!function(){"use strict";class e{constructor(){this.apiUrl="https://dog.ceo/api/",this.imgEl=document.querySelector(".featured-dog img"),this.backgroundEl=document.querySelector(".featured-dog__background"),this.tilesEl=document.querySelector(".tiles"),this.spinnerEl=document.querySelector(".spinner"),this.init()}showLoading(){this.spinnerEl.classList.add("spinner--visible")}hideLoading(){this.spinnerEl.classList.remove("spinner--visible")}listBreeds(){return fetch(`${this.apiUrl}breeds/list/all`).then((e=>e.json())).then((e=>e.message))}getRandomImage(){return fetch(`${this.apiUrl}breeds/image/random`).then((e=>e.json())).then((e=>e.message))}getRandomImageByBreed(e){return fetch(`${this.apiUrl}breed/${e}/images/random`).then((e=>e.json())).then((e=>e.message))}init(){this.showLoading(),this.getRandomImage().then((e=>this.showImageWhenReady(e))),this.showAllBreeds()}showImageWhenReady(e){this.imgEl.setAttribute("src",e),this.backgroundEl.style.backgroundImage=`url("${e}")`,this.hideLoading()}addBreed(e,t){let s,i;void 0===t?(s=e,i=e):(s=`${e} ${t}`,i=`${e}/${t}`);const n=document.createElement("div");n.classList.add("tiles__tile");const d=document.createElement("div");d.classList.add("tiles__tile-content"),d.innerText=s,d.addEventListener("click",(()=>{window.scrollTo(0,0),this.showLoading(),this.getRandomImageByBreed(i).then((e=>this.showImageWhenReady(e)))})),n.appendChild(d),this.tilesEl.appendChild(n)}showAllBreeds(){this.listBreeds().then((e=>{for(const t in e)if(0===e[t].length)this.addBreed(t);else for(const s of e[t])this.addBreed(t,s)}))}}document.addEventListener("DOMContentLoaded",(()=>{new e}))}();